/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2022-1-21 16:12:28
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42d059fb"],{"007f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"check-container"},[r("el-dialog",{attrs:{title:"门店信息",visible:e.dialogFormVisible,width:"800px",top:"10vh"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("vab-query-form",[r("el-form",{ref:"form",attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:""}},[r("el-input",{attrs:{placeholder:"请输入门店名称",clearable:""},model:{value:e.queryForm.storeName,callback:function(t){e.$set(e.queryForm,"storeName","string"===typeof t?t.trim():t)},expression:"queryForm.storeName"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"省"},on:{change:e.provChange},model:{value:e.queryForm.province,callback:function(t){e.$set(e.queryForm,"province",t)},expression:"queryForm.province"}},e._l(e.provinces,(function(e){return r("el-option",{key:e.pid,attrs:{label:e.name,value:e.pid}})})),1)],1),r("el-form-item",{attrs:{label:""}},[r("el-select",{staticStyle:{width:"100px"},attrs:{loading:e.loading,placeholder:"市"},on:{change:e.cityChange},model:{value:e.queryForm.city,callback:function(t){e.$set(e.queryForm,"city",t)},expression:"queryForm.city"}},e._l(e.citys,(function(e){return r("el-option",{key:e.pid,attrs:{label:e.name,value:e.pid}})})),1)],1),r("el-form-item",{attrs:{label:""}},[r("el-select",{staticStyle:{width:"100px"},attrs:{loading:e.loading,placeholder:"区"},model:{value:e.queryForm.area,callback:function(t){e.$set(e.queryForm,"area",t)},expression:"queryForm.area"}},e._l(e.areas,(function(e){return r("el-option",{key:e.pid,attrs:{label:e.name,value:e.pid}})})),1)],1),r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.sureSelect}},[e._v("确定")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.sgData,"element-loading-text":e.elementLoadingText,"header-cell-style":{background:"#EFF3F8"},"max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection"}}),r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"storeName",label:"门店名称"}})],1),r("el-pagination",{attrs:{"current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},o=[],n=r("1da1"),i=(r("159b"),r("fb6a"),r("96cf"),r("adfd")),l={name:"Stores",components:{},data:function(){return{queryForm:{storeName:"",province:"",city:"",area:""},pageIndex:1,pageSize:100,total:0,list:[],sgData:[],listLoading:!0,elementLoadingText:"正在加载...",dialogFormVisible:!1,selectIds:[],loading:!1,provinces:[],citys:[],areas:[],parentid:null,leveltype:1}},created:function(){},mounted:function(){this.fetchData(),this.getCityList()},methods:{getCityList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r={parentid:e.parentid||1e5,leveltype:e.leveltype},t.next=4,Object(i["getCityList"])(r);case 4:if(a=t.sent,o=a.code,n=a.data,200!==o){t.next=17;break}t.t0=e.leveltype,t.next=1===t.t0?11:2===t.t0?13:3===t.t0?15:17;break;case 11:return e.provinces=n,t.abrupt("break",17);case 13:return e.citys=n,t.abrupt("break",17);case 15:return e.areas=n,t.abrupt("break",17);case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},provChange:function(e){this.queryForm.city="",this.queryForm.area="",this.parentid=e,this.leveltype=2,this.getCityList()},cityChange:function(e){this.queryForm.area="",this.parentid=e,this.leveltype=3,this.getCityList()},showStore:function(){this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},handleSelectionChange:function(e){console.log(e);var t=[];e.forEach((function(e){t.push(e.pid)})),this.selectIds=t},handleCurrentChange:function(e){this.pageIndex=e,this.sgData=this.list.slice((e-1)*this.pageSize,e*this.pageSize)},queryData:function(){this.pageIndex=1,this.fetchData()},sureSelect:function(){this.dialogFormVisible=!1,this.$emit("storeInfo",this.selectIds)},fetchData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o,n,l,s,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,r={},a=e.queryForm,o=a.storeName,n=a.province,l=a.city,s=a.area,o&&(r.storeName=o),n&&(r.province=n),l&&(r.city=l),s&&(r.area=s),t.next=9,Object(i["getStoreList"])(r);case 9:c=t.sent,u=c.code,d=c.data,200==u&&(e.list=d,e.sgData=d.slice(e.pageIndex-1,e.pageSize),e.total=d.length,e.listLoading=!1);case 13:case"end":return t.stop()}}),t)})))()}}},s=l,c=(r("5dff"),r("2877")),u=Object(c["a"])(s,a,o,!1,null,"77ca204a",null);t["default"]=u.exports},"355e":function(e,t,r){},"467e":function(e,t,r){"use strict";r("355e")},"482c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"check-container"},[r("vab-query-form",[r("el-form",{attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[r("vab-query-form-left-panel",{attrs:{span:18}},[r("el-form-item",{attrs:{label:"手机号："}},[r("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.queryForm.mobile,callback:function(t){e.$set(e.queryForm,"mobile","string"===typeof t?t.trim():t)},expression:"queryForm.mobile"}})],1),r("el-form-item",{attrs:{label:"姓名："}},[r("el-input",{attrs:{placeholder:"请输入姓名",clearable:""},model:{value:e.queryForm.userName,callback:function(t){e.$set(e.queryForm,"userName","string"===typeof t?t.trim():t)},expression:"queryForm.userName"}})],1)],1),r("vab-query-form-right-panel",{attrs:{span:6}},[r("el-form-item",[r("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.handleEdit}},[e._v(" 新增 ")]),r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryData}},[e._v(" 查询 ")])],1)],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":e.elementLoadingText,"header-cell-style":{background:"#EFF3F8"}},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"姓名"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"mobile",label:"电话"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"sex",label:"性别"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"deptName",label:"部门"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"earliestDate",label:"入职时间"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"roleName",label:"角色(岗位)"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"parentName",label:"直属上级"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"contractExpires",label:"合同到期时间"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"healthExpires",label:"健康证到期时间"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.storeAuth(a)}}},[e._v("门店授权")])]}}])})],1),r("el-pagination",{attrs:{background:"","current-page":e.queryForm.pageIndex,"page-size":e.queryForm.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),r("edit",{ref:"edit",on:{"fetch-data":e.fetchData}}),r("stores",{ref:"stores",on:{storeInfo:e.getStoreInfo}})],1)},o=[],n=r("1da1"),i=(r("a15b"),r("d81d"),r("159b"),r("a9e3"),r("96cf"),r("adfd")),l=r("978b"),s=r("007f"),c={name:"MenuManagement",components:{Edit:l["default"],Stores:s["default"]},data:function(){return{queryForm:{pageIndex:1,pageSize:10,mobile:"",userName:""},list:[],listLoading:!0,elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:"",curPid:""}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchData();case 1:case"end":return t.stop()}}),t)})))()},methods:{getStoreInfo:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,o,n,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={pid:t.curPid,storeList:e},r.next=3,Object(i["storeAuthReq"])(a);case 3:o=r.sent,n=o.code,l=o.message,200===n&&(t.$baseMessage(l||"绑定成功！","success"),t.fetchData());case 7:case"end":return r.stop()}}),r)})))()},setSelectRows:function(e){this.selectRows=e},handleEdit:function(e){e.pid?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},storeAuth:function(e){this.curPid=e.pid,this.$refs["stores"].showStore(e)},handleDelete:function(e){var t=this;if(e.pid)this.$baseConfirm("确定删除该条产品信息分类吗？",null,Object(n["a"])(regeneratorRuntime.mark((function r(){var a,o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,doDelete({uuid:e.pid});case 2:a=r.sent,o=a.message,n=a.code,200===n&&(t.$baseMessage(o||"删除成功！","success"),t.fetchData());case 6:case"end":return r.stop()}}),r)}))));else{if(!(this.selectRows.length>0))return this.$baseMessage("未选中任何行","error"),!1;var r=this.selectRows.map((function(e){return e.pid})).join();this.$baseConfirm("你确定要删除选中项吗？",null,Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,doDelete({ids:r});case 2:a=e.sent,o=a.msg,t.$baseMessage(o||"删除成功！","success"),t.fetchData();case 6:case"end":return e.stop()}}),e)}))))}},handleSizeChange:function(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.queryForm.pageIndex=e,this.fetchData()},setTreeData:function(e){e.forEach((function(e){delete e.children}));var t={};e.forEach((function(e){t[e.pid]=e}));var r=[];return e.forEach((function(e){var a=t[e.parentId];a?(a.children||(a.children=[])).push(e):r.push(e)})),r},queryData:function(){this.queryForm.pageIndex=1,this.fetchData()},fetchData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(i["getUserList"])(e.queryForm);case 3:r=t.sent,a=r.data,e.list=a.result,e.total=Number(a.totalRecords),setTimeout((function(){e.listLoading=!1}),300);case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=(r("467e"),r("2877")),m=Object(d["a"])(u,a,o,!1,null,"cd3879d8",null);t["default"]=m.exports},"4d91":function(e,t,r){"use strict";r("50e9")},"4df6":function(e,t,r){},"50e9":function(e,t,r){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34"}},"5dff":function(e,t,r){"use strict";r("4df6")},"978b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"856px",top:"8vh"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("div",{staticClass:"dialogCus"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"140px"}},[r("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[r("el-form-item",{attrs:{label:"直属上级:",prop:"parentId"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.parentArr,(function(e){return r("el-option",{key:e.pid,attrs:{label:e.name,value:e.pid}})})),1)],1),r("el-form-item",{attrs:{label:"性别:",prop:"sex"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexArr,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"电话:",prop:"mobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{label:"身份证号:",prop:"idCardNo"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.idCardNo,callback:function(t){e.$set(e.form,"idCardNo",t)},expression:"form.idCardNo"}})],1),r("el-form-item",{attrs:{label:"学历:",prop:"education"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.education,callback:function(t){e.$set(e.form,"education",t)},expression:"form.education"}},e._l(e.educationArr,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.dictionaryName,value:e.dictionaryValue}})})),1)],1),r("el-form-item",{attrs:{label:"入职时间:",prop:"earliestDate"}},[r("el-date-picker",{staticStyle:{width:"246px"},attrs:{type:"date",placeholder:"选择时间",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.earliestDate,callback:function(t){e.$set(e.form,"earliestDate",t)},expression:"form.earliestDate"}})],1),r("el-form-item",{attrs:{label:"紧急联系人电话:",prop:"contactsTel"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.contactsTel,callback:function(t){e.$set(e.form,"contactsTel",t)},expression:"form.contactsTel"}})],1),r("el-form-item",{attrs:{label:"合同到期时间:",prop:"contractExpires"}},[r("el-date-picker",{staticStyle:{width:"246px"},attrs:{type:"date",placeholder:"选择时间",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.contractExpires,callback:function(t){e.$set(e.form,"contractExpires",t)},expression:"form.contractExpires"}})],1),r("el-form-item",{attrs:{label:"工资卡开户行名称:",prop:"bankName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.bankName,callback:function(t){e.$set(e.form,"bankName",t)},expression:"form.bankName"}})],1),r("el-form-item",{attrs:{label:"身份证人像面:",prop:"cardBack"}},[r("el-upload",{ref:"cardBackUpload",staticClass:"upload-content",attrs:{action:e.action,"auto-upload":!0,"close-on-click-modal":!1,multiple:!1,name:"file",accept:"image/png, image/jpeg","list-type":"picture-card",limit:e.limit,headers:e.headers,"on-exceed":e.handleExceed,"on-error":e.handleError,"on-preview":e.handlePreview,"on-remove":e.cardBackRemove,"file-list":e.cardBackImg,"on-success":e.cardBackSuc}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"trigger"},slot:"trigger"})])],1),r("el-form-item",{attrs:{label:"健康证图片地址:",prop:"healthSrc"}},[r("el-upload",{ref:"healthSrcUpload",staticClass:"upload-content",attrs:{action:e.action,"auto-upload":!0,"close-on-click-modal":!1,multiple:!1,name:"file",accept:"image/png, image/jpeg","list-type":"picture-card",limit:e.limit,headers:e.headers,"on-exceed":e.handleExceed,"on-error":e.handleError,"on-preview":e.handlePreview,"on-remove":e.healthSrcRemove,"file-list":e.healthSrcImg,"on-success":e.healthSrcSuc}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"trigger"},slot:"trigger"}),r("el-dialog",{attrs:{visible:e.prevImgVsb,"append-to-body":"",title:"查看大图"},on:{"update:visible":function(t){e.prevImgVsb=t}}},[r("div",[r("img",{attrs:{src:e.prevImage,alt:"",width:"100%"}})])])],1)],1)],1),r("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[r("el-form-item",{attrs:{label:"部门:",prop:"deptId"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}},e._l(e.deptArr,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.departmentName,value:e.uuid}})})),1)],1),r("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"岗位:",prop:"roleId"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleArr,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.dictionaryName,value:e.dictionaryValue}})})),1)],1),r("el-form-item",{attrs:{label:"毕业学校:",prop:"finishSchool"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.finishSchool,callback:function(t){e.$set(e.form,"finishSchool",t)},expression:"form.finishSchool"}})],1),r("el-form-item",{attrs:{label:"紧急联系人:",prop:"contacts"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.contacts,callback:function(t){e.$set(e.form,"contacts",t)},expression:"form.contacts"}})],1),r("el-form-item",{attrs:{label:"劳务关系:",prop:"contract"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.contract,callback:function(t){e.$set(e.form,"contract",t)},expression:"form.contract"}},e._l(e.contractArr,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.dictionaryName,value:e.dictionaryValue}})})),1)],1),r("el-form-item",{attrs:{label:"健康证到期时间:",prop:"healthExpires"}},[r("el-date-picker",{staticStyle:{width:"246px"},attrs:{type:"date",placeholder:"选择时间",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.healthExpires,callback:function(t){e.$set(e.form,"healthExpires",t)},expression:"form.healthExpires"}})],1),r("el-form-item",{attrs:{label:"工资卡帐号:",prop:"bankNo"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.bankNo,callback:function(t){e.$set(e.form,"bankNo",t)},expression:"form.bankNo"}})],1),r("el-form-item",{attrs:{label:"工资卡银行类型:",prop:"bankType"}},[r("el-select",{staticClass:"w100",attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.bankType,callback:function(t){e.$set(e.form,"bankType",t)},expression:"form.bankType"}},e._l(e.bankTypeArr,(function(e){return r("el-option",{key:e.uuid,attrs:{label:e.dictionaryName,value:e.dictionaryValue}})})),1)],1),r("el-form-item",{attrs:{label:"身份证国徽面:",prop:"cardFront"}},[r("el-upload",{ref:"cardFrontUpload",staticClass:"upload-content",attrs:{action:e.action,"auto-upload":!0,"close-on-click-modal":!1,multiple:!1,name:"file",accept:"image/png, image/jpeg","list-type":"picture-card",limit:e.limit,headers:e.headers,"on-exceed":e.handleExceed,"on-error":e.handleError,"on-preview":e.handlePreview,"on-remove":e.cardFrontRemove,"file-list":e.cardFrontImg,"on-success":e.cardFrontSuc}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"trigger"},slot:"trigger"})])],1),r("el-form-item",{attrs:{label:"头像:",prop:"headImg"}},[r("el-upload",{ref:"headImgUpload",staticClass:"upload-content",attrs:{action:e.action,"auto-upload":!0,"close-on-click-modal":!1,multiple:!1,name:"file",accept:"image/png, image/jpeg","list-type":"picture-card",limit:e.limit,headers:e.headers,"on-exceed":e.handleExceed,"on-error":e.handleError,"on-preview":e.handlePreview,"on-remove":e.headImgRemove,"file-list":e.headImgss,"on-success":e.headImgSuc}},[r("i",{staticClass:"el-icon-plus",attrs:{slot:"trigger"},slot:"trigger"})])],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)])},o=[],n=r("1da1"),i=(r("ac1f"),r("1276"),r("99af"),r("b0c0"),r("159b"),r("d3b7"),r("96cf"),r("adfd")),l=r("e9df"),s={name:"Edit",components:{},data:function(){return{form:{pid:"",parentId:"",deptId:"",sex:"",name:"",mobile:"",education:"",finishSchool:"",earliestDate:"",contacts:"",contactsTel:"",contract:"",contractExpires:"",healthExpires:"",healthSrc:"",roleId:"",cardFront:"",cardBack:"",idCardNo:"",bankNo:"",bankName:"",bankType:"",headImg:""},rules:{parentId:[{required:!0,trigger:"blur",message:"请选择直属上级"}],deptId:[{required:!0,trigger:"blur",message:"请选择部门"}],sex:[{required:!0,trigger:"blur",message:"请选择性别"}],name:[{required:!0,trigger:"blur",message:"请输入姓名"}],mobile:[{required:!0,trigger:"blur",message:"请输入电话"}],roleId:[{required:!0,trigger:"blur",message:"请选择岗位"}],idCardNo:[{required:!0,trigger:"blur",message:"请输入身份证号"}]},parentArr:[],deptArr:[],sexArr:[{value:"男",label:"男"},{value:"女",label:"女"}],educationArr:[],contractArr:[],roleArr:[],bankTypeArr:[],title:"",dialogFormVisible:!1,prevImgVsb:!1,prevImage:"",action:"https://server.klfsvip.com/api/fileUpload",headers:{"u-token":Object(l["getAccessToken"])()},healthSrcImg:[],cardFrontImg:[],cardBackImg:[],headImgss:[],limit:1,picture:"picture",typeList:null}},computed:{},created:function(){this.getList(),this.getDeptList(),this.getDictionaryByCodeEdu(),this.getDictionaryByCodeCon(),this.getDictionaryByCodeRol(),this.getDictionaryByCodeBan()},methods:{getList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getList"])({});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.parentArr=o);case 6:case"end":return t.stop()}}),t)})))()},getDeptList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getDeptList"])({});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.deptArr=o);case 6:case"end":return t.stop()}}),t)})))()},getDictionaryByCodeEdu:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getDictionaryByCode"])({dictionaryCode:"EDUCATION"});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.educationArr=o);case 6:case"end":return t.stop()}}),t)})))()},getDictionaryByCodeCon:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getDictionaryByCode"])({dictionaryCode:"CONTRACT"});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.contractArr=o);case 6:case"end":return t.stop()}}),t)})))()},getDictionaryByCodeRol:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getDictionaryByCode"])({dictionaryCode:"ROLE"});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.roleArr=o);case 6:case"end":return t.stop()}}),t)})))()},getDictionaryByCodeBan:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["getDictionaryByCode"])({dictionaryCode:"BANK"});case 2:r=t.sent,a=r.code,o=r.data,200===a&&(e.bankTypeArr=o);case 6:case"end":return t.stop()}}),t)})))()},showEdit:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,o,n,l,s,c,u,d,m,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.healthSrcImg=[],t.cardFrontImg=[],t.cardBackImg=[],t.headImgss=[],e){r.next=8;break}t.title="添加",r.next=18;break;case 8:return t.title="编辑",r.next=11,Object(i["getUser"])({pid:e.pid});case 11:if(a=r.sent,o=a.data,t.form=Object.assign({},o),o.healthSrc)for(n=o.healthSrc.split(","),l=0;l<n.length;l++)t.healthSrcImg.push({url:n[l]});if(o.cardFront)for(s=o.cardFront.split(","),c=0;c<s.length;c++)t.cardFrontImg.push({url:s[c]});if(o.cardBack)for(u=o.cardBack.split(","),d=0;d<u.length;d++)t.cardBackImg.push({url:u[d]});if(o.headImg)for(m=o.headImg.split(","),p=0;p<m.length;p++)t.headImgss.push({url:m[p]});case 18:t.dialogFormVisible=!0;case 19:case"end":return r.stop()}}),r)})))()},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},handleExceed:function(e,t){this.$baseMessage("当前限制选择 ".concat(this.limit," 个文件"),"error")},handleError:function(e,t,r){this.$baseMessage("文件[".concat(t.raw.name,"]上传失败,文件大小为").concat(this.$baseLodash.round(t.raw.size/1024,0),"KB"),"error")},handlePreview:function(e){this.prevImage=e.url,this.prevImgVsb=!0},healthSrcRemove:function(e,t){this.healthSrcImg=t},cardFrontRemove:function(e,t){this.cardFrontImg=t},cardBackRemove:function(e,t){this.cardBackImg=t},headImgRemove:function(e,t){this.headImgss=t},healthSrcSuc:function(e,t,r){if(200===e.code){this.$baseMessage("上传完成! 共上传".concat(r.length,"张图片"),"success"),this.healthSrcImg.push({url:e.data});var a=[];this.healthSrcImg.forEach((function(e){a.push(e.url)})),this.form.healthSrc=a.toString()}},cardFrontSuc:function(e,t,r){if(200===e.code){this.$baseMessage("上传完成! 共上传".concat(r.length,"张图片"),"success"),this.cardFrontImg.push({url:e.data});var a=[];this.cardFrontImg.forEach((function(e){a.push(e.url)})),this.form.cardFront=a.toString()}},cardBackSuc:function(e,t,r){if(200===e.code){this.$baseMessage("上传完成! 共上传".concat(r.length,"张图片"),"success"),this.cardBackImg.push({url:e.data});var a=[];this.cardBackImg.forEach((function(e){a.push(e.url)})),this.form.cardBack=a.toString()}},headImgSuc:function(e,t,r){if(200===e.code){this.$baseMessage("上传完成! 共上传".concat(r.length,"张图片"),"success"),this.headImgss.push({url:e.data});var a=[];this.headImgss.forEach((function(e){a.push(e.url)})),this.form.headImg=a.toString()}},save:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return console.log(e.form),t.next=4,Object(i["saveOrUpdate"])(e.form);case 4:a=t.sent,a.message,o=a.code,200===o&&(e.$emit("fetch-data"),e.close()),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=s,u=(r("4d91"),r("2877")),d=Object(u["a"])(c,a,o,!1,null,null,null);t["default"]=d.exports},adfd:function(e,t,r){"use strict";r.r(t),r.d(t,"getUserList",(function(){return o})),r.d(t,"getUser",(function(){return n})),r.d(t,"saveOrUpdate",(function(){return i})),r.d(t,"getList",(function(){return l})),r.d(t,"getDeptList",(function(){return s})),r.d(t,"getDictionaryByCode",(function(){return c})),r.d(t,"getStoreList",(function(){return u})),r.d(t,"storeAuthReq",(function(){return d})),r.d(t,"getCityList",(function(){return m}));var a=r("b775");function o(e){return Object(a["default"])({url:"/api/user/getUserList",method:"post",data:e})}function n(e){return Object(a["default"])({url:"/api/user/getUser",method:"post",data:e})}function i(e){return Object(a["default"])({url:"/api/user/saveOrUpdate",method:"post",data:e})}function l(e){return Object(a["default"])({url:"/api/user/getList",method:"post",data:e})}function s(e){return Object(a["default"])({url:"/api/dept/getDeptList",method:"post",data:e})}function c(e){return Object(a["default"])({url:"/api/base/getDictionaryByCode",method:"post",data:e})}function u(e){return Object(a["default"])({url:"/api/base/getStoreList",method:"post",data:e})}function d(e){return Object(a["default"])({url:"/api/user/storeAuth",method:"post",data:e})}function m(e){return Object(a["default"])({url:"/api/base/getCityList",method:"post",data:e})}}}]);