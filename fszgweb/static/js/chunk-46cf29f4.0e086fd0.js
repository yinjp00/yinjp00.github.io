/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2022-1-21 16:12:28
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46cf29f4"],{"11f0":function(e,t,r){},4265:function(e,t,r){"use strict";r("11f0")},b247:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"check-container"},[r("vab-query-form",[r("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"",prop:"storeId"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择门店"},model:{value:e.queryForm.storeId,callback:function(t){e.$set(e.queryForm,"storeId",t)},expression:"queryForm.storeId"}},e._l(e.storeIdArr,(function(e){return r("el-option",{key:e.pid,attrs:{label:e.storeName,value:e.pid}})})),1)],1),r("el-form-item",{attrs:{label:""}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:e.dateRangeChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),r("el-form-item",[r("el-button",{on:{click:function(t){return e.resetQuery("queryForm")}}},[e._v("重置")]),r("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.queryData("queryForm")}}},[e._v(" 查询 ")])],1)],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":e.elementLoadingText,"header-cell-style":{background:"#EFF3F8"}},on:{"selection-change":e.setSelectRows}},[r("el-table-column",{attrs:{"show-overflow-tooltip":"",fixed:"",prop:"storeName",label:"门店名称","min-width":"200"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",fixed:"",prop:"storeNo",label:"门店编码","min-width":"100"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"storeTotalNum",label:"巡检报告数","min-width":"120"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subTaskBhgnum",label:"实际巡检报告不合格数","min-width":"170"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"报告不合格率","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("span",[e._v(e._s(e.get2Percent(o.subTaskBhgnum,o.storeTotalNum)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subTaskHgnum",label:"实际巡检报告合格数","min-width":"160"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"报告合格率","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("span",[e._v(e._s(e.get2Percent(o.subTaskHgnum,o.storeTotalNum)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subRectifyNum",label:"实际巡检报告整改数","min-width":"160"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"报告整改率","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("span",[e._v(e._s(e.get2Percent(o.subRectifyNum,o.storeTotalNum)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subRectifyNonum",label:"无需整改报告数","min-width":"140"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"无需整改报告率","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("span",[e._v(e._s(e.get2Percent(o.subRectifyNonum,o.storeTotalNum)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subRectifyYqnum",label:"逾期整改报告数","min-width":"140"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"逾期整改报告率","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("span",[e._v(e._s(e.get2Percent(o.subRectifyYqnum,o.subRectifyNum)))])]}}])}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"avgRule",label:"平均分数","min-width":"110"}})],1),r("el-pagination",{attrs:{background:"","current-page":e.queryForm.pageIndex,"page-size":e.queryForm.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],n=r("1da1"),l=(r("a9e3"),r("96cf"),r("e7ca")),i=r("61f7"),s={name:"BiPatrolStoreFinish",components:{},data:function(){return{queryForm:{pageIndex:1,pageSize:10,startDate:"",endDate:"",storeId:""},storeIdArr:[],dateRange:"",pickerMinDate:"",pickerMaxDate:"",list:[],listLoading:!1,elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getStoreList();case 1:case"end":return t.stop()}}),t)})))()},methods:{getStoreList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,o,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={},r.pageIndex=1,r.pageSize=1e4,t.next=5,Object(l["getStoreList"])(r);case 5:o=t.sent,a=o.code,n=o.data,200===a&&(e.storeIdArr=n);case 9:case"end":return t.stop()}}),t)})))()},setSelectRows:function(e){this.selectRows=e},get2Percent:function(e,t){return Object(i["Percent2age"])(e,t)},getSec2Min:function(e){return Object(i["sec2Min"])(e)},handleSizeChange:function(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.queryForm.pageIndex=e,this.fetchData()},resetQuery:function(e){this.$refs[e].resetFields()},dateRangeChange:function(e){e&&(this.queryForm.startDate=e[0],this.queryForm.endDate=e[1])},queryData:function(){var e=this.queryForm,t=e.startDate,r=e.endDate;t?r?(this.queryForm.pageIndex=1,this.fetchData()):this.$baseMessage("请选择结束日期","warning"):this.$baseMessage("请选择开始日期","warning")},fetchData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(l["getBiPatrolStoreFinishList"])(e.queryForm);case 3:r=t.sent,o=r.code,a=r.data,200==o&&(e.list=a.result,e.total=Number(a.totalRecords),e.listLoading=!1);case 7:case"end":return t.stop()}}),t)})))()}}},u=s,c=(r("4265"),r("2877")),d=Object(c["a"])(u,o,a,!1,null,"8ee682c6",null);t["default"]=d.exports},e7ca:function(e,t,r){"use strict";r.r(t),r.d(t,"getBiPatrolStoreFinishList",(function(){return a})),r.d(t,"getStoreList",(function(){return n}));var o=r("b775");function a(e){return Object(o["default"])({url:"/api/yxdpc/biPatrolStoreFinish/getList",method:"post",data:e})}function n(e){return Object(o["default"])({url:"/api/yxdpc/common/getStoreList",method:"post",data:e})}}}]);