/*!
 *  build: vue-admin-beautiful 
 *  vue-admin-beautiful author: chuzhixin 1204505056@qq.com 
 *  vue-admin-beautiful QQ Group(QQ群): 972435319、1139183756 
 *  time: 2022-1-21 16:12:28
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-556b92b6"],{"2fd8":function(e,t,a){"use strict";a("6ddc")},"6ddc":function(e,t,a){},c8d2a:function(e,t,a){"use strict";a.r(t),a.d(t,"getBiSubSumList",(function(){return r}));var n=a("b775");function r(e){return Object(n["default"])({url:"/api/yxdpc/biSubSum/getList",method:"post",data:e})}},f077:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"check-container"},[a("vab-query-form",[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:e.queryForm},nativeOn:{submit:function(e){e.preventDefault()}}},[a("vab-query-form-left-panel",{attrs:{span:18}},[a("el-form-item",[e._v(" 门店ID： "),a("el-input",{attrs:{placeholder:"请输入门店ID",clearable:""},model:{value:e.queryForm.storeId,callback:function(t){e.$set(e.queryForm,"storeId","string"===typeof t?t.trim():t)},expression:"queryForm.storeId"}})],1),a("el-form-item",[e._v(" 查询时段： "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.dateRangeChange},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)],1),a("vab-query-form-right-panel",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(t){return e.resetQuery("queryForm")}}},[e._v("重置")]),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.queryData("queryForm")}}},[e._v(" 查询 ")])],1)],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":e.elementLoadingText,"header-cell-style":{background:"#EFF3F8"},"row-class-name":e.getRowClass},on:{"selection-change":e.setSelectRows}},[a("el-table-column",{attrs:{prop:"itemList",type:"expand",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"80%",margin:"12px 96px"},attrs:{data:t.row.itemList,"header-cell-style":{background:"#EFF3F8"}}},[a("el-table-column",{attrs:{label:"已完成报告",prop:"subNum"}}),a("el-table-column",{attrs:{label:"应完成报告",prop:"dayNum"}}),a("el-table-column",{attrs:{label:"已点评报告",prop:"commentNum"}}),a("el-table-column",{attrs:{label:"合格报告",prop:"qualifiedNum"}}),a("el-table-column",{attrs:{label:"完成率"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.subNum,n.dayNum)))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"点评率"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.commentNum,n.subNum)))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"合格率",prop:"qualifiedNum/commentNum"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.qualifiedNum,n.commentNum)))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"点评平均分",prop:"avgSubRule"}})],1)]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",type:"selection",fixed:"left"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"storeName",label:"门店名称","min-width":"180"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"subNum",label:"已完成报告","min-width":"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"dayNum",label:"应完成报告","min-width":"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"commentNum",label:"已点评报告","min-width":"150"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"qualifiedNum",label:"合格报告","min-width":"140"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"完成率","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.subNum,n.dayNum)))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"点评率","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.commentNum,n.subNum)))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"合格率","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.get2Percent(n.qualifiedNum,n.commentNum)))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"avgSubRule",label:"点评平均分","min-width":"150"}})],1),a("el-pagination",{attrs:{background:"","current-page":e.queryForm.pageIndex,"page-size":e.queryForm.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],o=a("1da1"),l=(a("a15b"),a("a9e3"),a("96cf"),a("c8d2a")),i=a("61f7"),u={name:"BiSubSum",components:{},data:function(){var e=this;return{queryForm:{pageIndex:1,pageSize:10,storeId:"",startDate:"",endDate:""},dateRange:"",pickerMinDate:"",pickerMaxDate:"",pickerOptions:{onPick:function(t){var a=t.maxDate,n=t.minDate;e.pickerMinDate=n.getTime(),a&&(e.pickerMaxDate=a.getTime())},disabledDate:function(t){var a=2592e6;if(""!==e.pickerMinDate&&!e.pickerMaxDate){var n=e.pickerMinDate+a;return n>new Date&&(n=new Date),t.getTime()>n||t.getTime()>Date.now()}if(""!==e.pickerMaxDate&&""!==e.pickerMinDate){var r=e.pickerMaxDate-a,o=e.pickerMinDate+a;return o>new Date&&(o=new Date),t.getTime()<r||t.getTime()>o}return t.getTime()>Date.now()}},list:[],listLoading:!1,elementLoadingText:"正在加载...",layout:"total, sizes, prev, pager, next, jumper",total:0,selectRows:""}},created:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{getRowClass:function(e,t){var a=[];return e.row.itemList||a.push("row-expand-cover"),a.join(" ")},setSelectRows:function(e){this.selectRows=e},get2Percent:function(e,t){return Object(i["Percent2age"])(e,t)},handleSizeChange:function(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.queryForm.pageIndex=e,this.fetchData()},resetQuery:function(e){console.log(e),this.$refs[e].resetFields()},dateRangeChange:function(e){e&&(this.queryForm.startDate=e[0],this.queryForm.endDate=e[1])},queryData:function(){var e=this.queryForm,t=e.startDate,a=e.endDate;t?a?(this.queryForm.pageIndex=1,this.fetchData()):this.$baseMessage("请选择结束提交日期","warning"):this.$baseMessage("请选择开始提交日期","warning")},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,Object(l["getBiSubSumList"])(e.queryForm);case 3:a=t.sent,n=a.code,r=a.data,200==n&&(e.list=r.result,e.total=Number(r.totalRecords),e.listLoading=!1);case 7:case"end":return t.stop()}}),t)})))()}}},s=u,c=(a("2fd8"),a("2877")),m=Object(c["a"])(s,n,r,!1,null,"51203c9e",null);t["default"]=m.exports}}]);